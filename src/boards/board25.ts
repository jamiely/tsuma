import { Board, Rectangle } from "@/types";
import { chaikinSmoothing, defaultColors } from "@/util";
import { createWaypointPathCustom } from "@/path";

// [
//   {
//       "x": 800,
//       "y": 12
//   },
//   {
//       "x": 891,
//       "y": 103
//   },
//   {
//       "x": 932,
//       "y": 178
//   },
//   {
//       "x": 936,
//       "y": 234
//   },
//   {
//       "x": 941,
//       "y": 307
//   },
//   {
//       "x": 911,
//       "y": 365
//   },
//   {
//       "x": 861,
//       "y": 417
//   },
//   {
//       "x": 790,
//       "y": 469
//   },
//   {
//       "x": 701,
//       "y": 497
//   },
//   {
//       "x": 547,
//       "y": 516
//   },
//   {
//       "x": 416,
//       "y": 519
//   },
//   {
//       "x": 272,
//       "y": 483
//   },
//   {
//       "x": 178,
//       "y": 421
//   },
//   {
//       "x": 148,
//       "y": 361
//   },
//   {
//       "x": 151,
//       "y": 302
//   },
//   {
//       "x": 179,
//       "y": 286
//   },
//   {
//       "x": 223,
//       "y": 324
//   },
//   {
//       "x": 257,
//       "y": 386
//   },
//   {
//       "x": 308,
//       "y": 430
//   },
//   {
//       "x": 366,
//       "y": 453
//   },
//   {
//       "x": 434,
//       "y": 466
//   },
//   {
//       "x": 550,
//       "y": 464
//   },
//   {
//       "x": 659,
//       "y": 447
//   },
//   {
//       "x": 739,
//       "y": 428
//   },
//   {
//       "x": 797,
//       "y": 396
//   },
//   {
//       "x": 814,
//       "y": 348
//   },
//   {
//       "x": 767,
//       "y": 335
//   },
//   {
//       "x": 675,
//       "y": 370
//   },
//   {
//       "x": 608,
//       "y": 399
//   },
//   {
//       "x": 526,
//       "y": 416
//   },
//   {
//       "x": 473,
//       "y": 418
//   },
//   {
//       "x": 409,
//       "y": 404
//   },
//   {
//       "x": 361,
//       "y": 386
//   },
//   {
//       "x": 338,
//       "y": 350
//   },
//   {
//       "x": 317,
//       "y": 292
//   },
//   {
//       "x": 309,
//       "y": 279
//   }
// ]

export const board25 = (bounds: Rectangle): Board => {
  function* points() {
    const all = [
      {
          "x": 750,
          "y": -30,
      },
      {
          "x": 800,
          "y": 12
      },
      {
          "x": 891,
          "y": 103
      },
      {
          "x": 932,
          "y": 178
      },
      {
          "x": 936,
          "y": 234
      },
      {
          "x": 941,
          "y": 307
      },
      {
          "x": 911,
          "y": 365
      },
      {
          "x": 861,
          "y": 417
      },
      {
          "x": 790,
          "y": 469
      },
      {
          "x": 701,
          "y": 497
      },
      {
          "x": 547,
          "y": 516
      },
      {
          "x": 416,
          "y": 519
      },
      {
          "x": 272,
          "y": 483
      },
      {
          "x": 178,
          "y": 421
      },
      {
          "x": 148,
          "y": 361
      },
      {
          "x": 151,
          "y": 302
      },
      {
          "x": 179,
          "y": 286
      },
      {
          "x": 223,
          "y": 324
      },
      {
          "x": 257,
          "y": 386
      },
      {
          "x": 308,
          "y": 430
      },
      {
          "x": 366,
          "y": 453
      },
      {
          "x": 434,
          "y": 466
      },
      {
          "x": 550,
          "y": 464
      },
      {
          "x": 659,
          "y": 447
      },
      {
          "x": 739,
          "y": 428
      },
      {
          "x": 797,
          "y": 396
      },
      {
          "x": 814,
          "y": 348
      },
      {
          "x": 767,
          "y": 335
      },
      {
          "x": 675,
          "y": 370
      },
      {
          "x": 608,
          "y": 399
      },
      {
          "x": 526,
          "y": 416
      },
      {
          "x": 473,
          "y": 418
      },
      {
          "x": 409,
          "y": 404
      },
      {
          "x": 361,
          "y": 386
      },
      {
          "x": 338,
          "y": 350
      },
      {
          "x": 317,
          "y": 292
      },
      {
          "x": 309,
          "y": 292,
      }
  ];
    

    for (const pt of chaikinSmoothing(all)) yield { x: pt.x, y: pt.y };
  }

  return {
    name: "2-5 Snake Pit",
    launcherPosition: {
      x: bounds.size.width * 0.5,
      y: bounds.size.height * 0.5,
    },
    ballCount: 100,
    paths: [
      createWaypointPathCustom(() => points()),
      createWaypointPathCustom(function*() {
        for(const {x, y} of points()) 
          yield {
            x: bounds.size.width - x,
            y: bounds.size.height - y,
          }
      }),
    ],
    colors: defaultColors,
  };
};